# -*- coding: utf-8 -*-
# Copyright (c) 2024 Aleksandr Gabidullin <alex@gabidullin.com>
# GNU General Public License v3.0+ (see LICENSES/GPL-3.0-or-later.txt or https://www.gnu.org/licenses/gpl-3.0.txt)
# SPDX-License-Identifier: GPL-3.0-or-later

---
- id: test_domain_status_online
  input:
    action: domain_status
    domain: example.com
  output:
    online: online
  mocks:
    run_command: []
- id: test_domain_status_offline
  input:
    action: domain_status
    domain: example.com
  output:
    online: offline
  mocks:
    run_command: []
- id: test_domain_list
  input:
    action: domain_list
  output:
    domain_list:
      - ipa.example.com
      - ad.example.com
  mocks:
    run_command: []
- id: test_active_servers_ipa
  input:
    action: active_servers
    domain: example.com
    server_type: IPA
  output:
    servers:
      IPA Server: ipa-server.example.com
  mocks:
    run_command: []
- id: test_active_servers_ad
  input:
    action: active_servers
    domain: example.com
    server_type: AD
  output:
    servers:
      AD Global Catalog: gc-server.example.com
      AD Domain Controller: dc-server.example.com
  mocks:
    run_command: []
- id: test_list_servers_ipa
  input:
    action: list_servers
    domain: example.com
    server_type: IPA
  output:
    list_servers:
      - ipa-server1.example.com
      - ipa-server2.example.com
  mocks:
    run_command: []
- id: test_list_servers_ad
  input:
    action: list_servers
    domain: example.com
    server_type: AD
  output:
    list_servers:
      - dc1.example.com
      - dc2.example.com
  mocks:
    run_command: []
- id: test_domain_not_found
  input:
    action: domain_status
    domain: nonexistent.com
  output:
    error: "Domain not found: nonexistent.com"
  mocks:
    run_command: []