---

- ansible.builtin.include_tasks: 'setup.yml'

- name: "Execute test scenario for single device filesystem"
  ansible.builtin.include_tasks: 'run_filesystem_tests.yml'
  vars:
    btrfs_subvolume_target_device: "{{ btrfs_subvolume_single_devices | first }}"
    btrfs_subvolume_target_label: "{{ btrfs_subvolume_single_label }}"

- name: "Execute test scenario for multiple device configuration"
  ansible.builtin.include_tasks: 'run_filesystem_tests.yml'
  vars:
    btrfs_subvolume_target_device: "{{ btrfs_subvolume_multiple_devices | first }}"
    btrfs_subvolume_target_label: "{{ btrfs_subvolume_multiple_label }}"
