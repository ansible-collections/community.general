---
# Copyright (c) Ansible Project
# GNU General Public License v3.0+ (see LICENSES/GPL-3.0-or-later.txt or https://www.gnu.org/licenses/gpl-3.0.txt)
# SPDX-License-Identifier: GPL-3.0-or-later

url: http://localhost:8080/auth
admin_realm: master
admin_user: admin
admin_password: password
realm: myrealm

ldap_name: myldap

ldap_config:
  authType: simple
  batchSizeForSync:
  - '1000'
  bindCredential:
  - Admin123
  bindDn:
  - cn=Directory Manager
  changedSyncPeriod:
  - '86400'
  connectionUrl:
  - ldap://ldap.server.com
  editMode:
  - WRITABLE
  fullSyncPeriod:
  - '604800'
  priority:
  - '0'
  rdnLDAPAttribute:
  - uid
  searchScope:
  - '2'
  userObjectClasses:
  - inetOrgPerson
  - organizationalPerson
  usernameLDAPAttribute:
  - uid
  usersDn:
  - ou=People,dc=example,dc=com
  uuidLDAPAttribute:
  - uid
  validatePasswordPolicy:
  - 'true'
  vendor:
  - rhds

ldap_sub_components:
  org.keycloak.storage.ldap.mappers.LDAPStorageMapper:
  - name: groupMapper
    provider_id: group-ldap-mapper
    config:
      drop.non.existing.groups.during.sync:
      - 'false'
      group.name.ldap.attribute:
      - cn
      group.object.classes:
      - groupOfNames
      groups.dn:
      - ou=Groups,dc=example,dc=com
      membership.attribute.type:
      - DN
      membership.ldap.attribute:
      - member
      membership.user.ldap.attribute:
      - cn
      mode:
      - LDAP_ONLY
      preserve.group.inheritance:
      - 'true'
      user.roles.retrieve.strategy:
      - LOAD_GROUPS_BY_MEMBER_ATTRIBUTE
  - name: mobilePhoneNumber
    provider_id: user-attribute-ldap-mapper
    config:
      always.read.value.from.ldap:
      - 'false'
      is.mandatory.in.ldap:
      - 'false'
      ldap.attribute:
      - mobile
      read.only:
      - 'false'
      user.model.attribute:
      - mobilePhoneNumber
  - name: phoneNumber
    provider_id: user-attribute-ldap-mapper
    config:
      always.read.value.from.ldap:
      - 'false'
      is.mandatory.in.ldap:
      - 'false'
      ldap.attribute:
      - telephoneNumber
      read.only:
      - 'false'
      user.model.attribute:
      - phoneNumber
  - name: organisation
    provider_id: user-attribute-ldap-mapper
    config:
      always.read.value.from.ldap:
      - 'false'
      is.mandatory.in.ldap:
      - 'false'
      ldap.attribute:
      - o
      read.only:
      - 'false'
      user.model.attribute:
      - company
  - name: accountExpires
    provider_id: user-attribute-ldap-mapper
    config:
      always.read.value.from.ldap:
      - 'false'
      is.mandatory.in.ldap:
      - 'false'
      ldap.attribute:
      - accountExpires
      read.only:
      - 'false'
      user.model.attribute:
      - accountExpires

