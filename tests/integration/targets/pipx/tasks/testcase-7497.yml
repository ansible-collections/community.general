---
# Copyright (c) Ansible Project
# GNU General Public License v3.0+ (see LICENSES/GPL-3.0-or-later.txt or https://www.gnu.org/licenses/gpl-3.0.txt)
# SPDX-License-Identifier: GPL-3.0-or-later

- name: ensure application conan is uninstalled
  community.general.pipx:
    name: conan
    state: absent

- name: Install conan
  community.general.pipx:
    name: conan
    state: present
    system_site_packages: true
    pip_args: "--no-cache-dir"
  register: install_conan

- name: cleanup conan
  community.general.pipx:
    name: conan
    state: absent

- name: check assertions
  assert:
    that:
      - install_conan is changed
