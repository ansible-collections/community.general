# -*- coding: utf-8 -*-
# (c) 2022, Alexei Znamensky
# GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)

- name: test msimple 1
  msimple:
    command: ["echo", "--"]
    arg_formats:
      aa:
        func: fmt_opt_eq_val
        args: [--answer]
      bb:
        func: fmt_bool
        args: [--bb-here]
    arg_order: ['aa', 'bb']
    arg_values: [true]   # value of bb
    aa: 11
  register: simple1

- name: assert msimple 1
  assert:
    that:
      - simple1.rc == 0
      - simple1.out == "-- --answer=11 --bb-here\n"
      - simple1.err == ""
