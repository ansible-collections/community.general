---
####################################################################
# WARNING: These are designed specifically for Ansible tests       #
# and should not be used as examples of how to write Ansible roles #
####################################################################

# test code for the pnpm module
# Copyright (c) 2023 Aritra Sen <aretrosen@proton.me>
# Copyright (c) Ansible Project
# GNU General Public License v3.0+ (see LICENSES/GPL-3.0-or-later.txt or https://www.gnu.org/licenses/gpl-3.0.txt)
# SPDX-License-Identifier: GPL-3.0-or-later

# -------------------------------------------------------------
# Setup steps

- include_tasks: run.yml
  vars:
    nodejs_version: "{{ item.node_version }}"
    nodejs_path: "node-v{{ nodejs_version }}-{{ ansible_system|lower }}-x{{ ansible_userspace_bits }}"
    pnpm_version: "{{ item.pnpm_version }}"
  with_items:
    - { node_version: 16.14.0, pnpm_version: 7.0.0 } # Honestly, no idea! Very scarce documentation for this
  when:
    - not (ansible_os_family == 'Alpine')
