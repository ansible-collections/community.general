---

test_case:
  - id: (110) state='present' list_diff_type='value'
    state: 'present'
    list_diff_type: 'value'
    current:
      A: 1
      B: 2
      C:
        D: 3
        E: [4, 5, 6]
    expected:
      B: 3
      C:
        E: [7]
        F: 8
    result:
      A: 1
      B: 3
      C:
        D: 3
        E: [4, 5, 6, 7]
        F: 8
  - id: (120) state='present' list_diff_type='index'
    state: 'present'
    list_diff_type: 'index'
    current:
      A: 1
      B: 2
      C:
        D: 3
        E: [4, 5, 6]
    expected:
      B: 3
      C:
        E: [null, 6]
        F: 8
    result:
      A: 1
      B: 3
      C:
        D: 3
        E: [4, 6, 6]
        F: 8
  - id: (210) state='absent' list_diff_type='value'
    state: 'absent'
    list_diff_type: 'value'
    current:
      A: 1
      B: 2
      C:
        D: 3
        E: [4, 5, 6]
        F: 8
    expected:
      A: 1
      B: 3
      C:
        E: [1, 2, 5]
        F: 8
    result:
      B: 2
      C:
        D: 3
        E: [4, 6]
  - id: (220) state='absent' list_diff_type='index'
    state: 'absent'
    list_diff_type: 'index'
    current:
      A: 1
      B: 2
      C:
        D: 3
        E: [4, 5, 6]
        F: 8
    expected:
      A: 1
      B: 3
      C:
        E: [null, 5, 5]
        F: 8
    result:
      B: 2
      C:
        D: 3
        E: [4, 6]
  - id: (310) state='identic'
    state: 'identic'
    list_diff_type: null
    current:
      A: 1
      B: 2
      C:
        D: 3
        E: [4, 5, 6]
        F: 8
    expected:
      Z: 9
      Y: 8
      X:
        W: [7, 6]
    result:
      Z: 9
      Y: 8
      X:
        W: [7, 6]
  - id: (410) mixed current=list expected=dict
    state: 'present'
    list_diff_type: null
    current:
      - 'A'
      - 'B'
      - 'C'
    expected:
      Z: 9
      Y: 8
      X:
        W: [7, 6]
    result:
      Z: 9
      Y: 8
      X:
        W: [7, 6]
  - id: (420) mixed current=dict expected=list
    state: 'identic'
    list_diff_type: null
    current:
      Z: 9
      Y: 8
      X:
        W: [7, 6]
    expected:
      - 'A'
      - 'B'
      - 'C'
    result:
      - 'A'
      - 'B'
      - 'C'
  - id: (510) ensure null is ignored when state='present' list_diff_type='index'
    state: 'present'
    list_diff_type: index
    current:
      - 'A'
      - 'B'
      - 'C'
    expected:
      - null
      - 'Z'
    result:
      - 'A'
      - 'Z'
      - 'C'
  - id: (520) ensure null is ignored when state='absent' list_diff_type='index'
    state: 'absent'
    list_diff_type: index
    current:
      - 'A'
      - 'B'
      - 'C'
    expected:
      - null
      - 'B'
    result:
      - 'A'
      - 'C'
