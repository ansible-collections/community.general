---

- name: "{{ case.id }} - get result"
  ansible.builtin.set_fact:
    result: "{{ case.a|community.general.b_into_a(case.b, present=case.present, merge_seq_by_index=case.merge_seq_by_index, keep_empty=case.keep_empty) }}"

- name: "{{ case.id }} - check result"
  ansible.builtin.assert:
    that: "{{ result == case.result }}"
    fail_msg: "'a': {{ case.a }}, 'expected': {{ case.b }}, 'expected_result': {{ case.result }}, 'result': {{ result }}"
