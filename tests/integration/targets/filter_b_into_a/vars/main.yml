---

test_case:
  - id: "(110) present=true merge_seq_by_index=false keep_empty=false"
    a:
      A: 1
      B: 2
      C:
        D: 3
        E: [4, 5, 6]
    b:
      B: 3
      C:
        E: [7]
        F: 8
    present: true
    merge_seq_by_index: false
    keep_empty: false
    result:
      A: 1
      B: 3
      C:
        D: 3
        E: [4, 5, 6, 7]
        F: 8
  - id: "(120) present=true merge_seq_by_index=true keep_empty=false"
    a:
      A: 1
      B: 2
      C:
        D: 3
        E: [4, 5, 6]
    b:
      B: 3
      C:
        E: [null, 6]
        F: 8
    present: true
    merge_seq_by_index: true
    keep_empty: false
    result:
      A: 1
      B: 3
      C:
        D: 3
        E: [4, 6, 6]
        F: 8
  - id: "(210) present=false merge_seq_by_index=false keep_empty=false"
    a:
      A: 1
      B: 2
      C:
        D: 3
        E: [4, 5, 6]
        F: 8
    b:
      A: 1
      B: 3
      C:
        E: [1, 2, 5]
        F: 8
    present: false
    merge_seq_by_index: false
    keep_empty: false
    result:
      B: 2
      C:
        D: 3
        E: [4, 6]
  - id: "(220) present=false merge_seq_by_index=true keep_empty=false"
    a:
      A: 1
      B: 2
      C:
        D: 3
        E: [4, 5, 6]
        F: 8
    b:
      A: 1
      B: 3
      C:
        E: [null, 5, 5]
        F: 8
    present: false
    merge_seq_by_index: true
    keep_empty: false
    result:
      B: 2
      C:
        D: 3
        E: [4, 6]
  - id: "(320) present=false merge_seq_by_index=true keep_empty=true"
    a:
      A: 1
      B: [BA, BB]
      C:
        CA: 2
        CB: 3
    b:
      B: [BA, BB]
      C:
        CA: 2
        CB: 3
    present: false
    merge_seq_by_index: true
    keep_empty: true
    result:
      A: 1
      B: []
      C: {}
