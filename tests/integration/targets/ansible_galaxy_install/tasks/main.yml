---
# tasks file for ansible_galaxy_install

- name: Install collection ansible.netcommon
  community.general.ansible_galaxy_install:
    type: collection
    name: ansible.netcommon
  register: install_0

- name: Assert collection was installed
  assert:
    that:
    - install_0 is changed
    - '"ansible.netcommon" in install_0.installed_collections'

- name: Install collection ansible.netcommon (again)
  community.general.ansible_galaxy_install:
    type: collection
    name: ansible.netcommon
  register: install_1

- name: Assert collection was not installed
  assert:
    that:
    - install_1 is not changed
